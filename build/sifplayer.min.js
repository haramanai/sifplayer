/*
 Copyright (c) 2012 haramanai.
 sifPlayer
 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the "Software"), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
*/
this.sifPlayer=this.sifPlayer||{};
(function(){sifPlayer._getData=function(f){function b(e,d){a[e]?(a[e].constructor!=Array&&(a[e]=[a[e]]),a[e][a[e].length]=d):a[e]=d}var a={},e,d,g;for(e=0;d=f.attributes[e];e++)b("_"+d.name,sifPlayer._toSifValue(d.value));for(e=0;d=f.childNodes[e];e++)if(1==d.nodeType)if(g=d.nodeName,1==d.childNodes.length&&3==d.firstChild.nodeType)b(d.nodeName,sifPlayer._toSifValue(d.firstChild.nodeValue));else switch(g){case "param":a[d.getAttribute("name")]=sifPlayer._getData(d);break;case "layer":"undefined"==
typeof a[g]&&(a[g]=[]);switch(d.getAttribute("type")){case "rotate":case "translate":case "zoom":case "stretch":b("layer",{_type:"restore"});a.layer.unshift(sifPlayer._getData(d));break;case "timeloop":a.layer.unshift(sifPlayer._getData(d));break;default:b(d.nodeName,sifPlayer._getData(d))}break;case "waypoint":"undefined"==typeof a[g]&&(a[g]=[]);default:b(g,sifPlayer._getData(d))}return a};sifPlayer._secsToMillis=function(f){return 1E3*parseFloat(f.replace("s",""))};sifPlayer._canvasTimeToMillis=
function(f,b){var a=0,e;0<f.search("h")&&(e=f.split("h"),a+=36E5*e[0],f=e[1]);0<f.search("m")&&(e=f.split("m"),a+=6E4*e[0],f=e[1]);0<f.search("s")&&(e=f.split("s"),a+=1E3*e[0],f=e[1]);0<f.search("f")&&(e=f.split("f"),a+=1E3*e[0]/b);return a};sifPlayer._getLayer=function(f,b){if(sifPlayer[b._type])return new sifPlayer[b._type](f,b);if("import"===b._type)return new sifPlayer.Import(f,b);console.log("EERRROOR  "+b._type+" layer it's not supported");var a=new sifPlayer.Layer;a.initLayer(f,b);return a};
sifPlayer._toSifValue=function(f){var b=Number(f);return!isNaN(b)?b:"true"===f?!0:"false"===f?!1:":"===f[0]?f.substr(1):f};sifPlayer._getEase=function(f){return"linear"===f||"clamped"===f||"halt"===f?createjs.Ease.none:"constant"===f?sifPlayer.Ease.constant:"auto"===f?createjs.Ease.none:!1};window.sifPlayer=sifPlayer})();(function(){function f(a){this.ctx=a;this.matrix=[1,0,0,1,0,0];this.stack=[];this.setTransform()}var b=f.prototype;b.setContext=function(a){this.ctx=a};b.getMatrix=function(){return this.matrix};b.setMatrix=function(a){this.matrix=[a[0],a[1],a[2],a[3],a[4],a[5]];this.setTransform()};b.cloneMatrix=function(a){return[a[0],a[1],a[2],a[3],a[4],a[5]]};b.save=function(){var a=this.cloneMatrix(this.getMatrix());this.stack.push(a);this.ctx&&this.ctx.save()};b.restore=function(){if(0<this.stack.length){var a=
this.stack.pop();this.setMatrix(a)}this.ctx&&this.ctx.restore()};b.setTransform=function(){this.ctx&&this.ctx.setTransform(this.matrix[0],this.matrix[1],this.matrix[2],this.matrix[3],this.matrix[4],this.matrix[5])};b.translate=function(a,e){this.matrix[4]+=this.matrix[0]*a+this.matrix[2]*e;this.matrix[5]+=this.matrix[1]*a+this.matrix[3]*e;this.setTransform()};b.rotate=function(a){var e=Math.cos(a),a=Math.sin(a),d=this.matrix[1]*e+this.matrix[3]*a,g=this.matrix[0]*-a+this.matrix[2]*e,b=this.matrix[1]*
-a+this.matrix[3]*e;this.matrix[0]=this.matrix[0]*e+this.matrix[2]*a;this.matrix[1]=d;this.matrix[2]=g;this.matrix[3]=b;this.setTransform()};b.scale=function(a,e){this.matrix[0]*=a;this.matrix[1]*=a;this.matrix[2]*=e;this.matrix[3]*=e;this.setTransform()};sifPlayer.Tracker=f})();(function(){Ease={constant:function(f){return 1>f?0:1},bool:function(f){return 1>f?1:0}};sifPlayer.Ease=Ease})();(function(){function f(a,e){if(e)for(c in e)this[c]=e[c];this.sifPath=this.sifPath||"";this.init(a)}var b=f.prototype;b.x=0;b.y=0;b.width=320;b.height=240;b.sifPath="";b.timeline=null;b.desc={};b.init=function(a){a=sifPlayer._getData(a.getElementsByTagName("canvas")[0]);this.timeline=new createjs.Timeline;this.timeline.setPaused(!0);this._getCanvasData(a);this.dCanvas=this.sif.canvas.pCanvas.dCanvas};b._getCanvasData=function(a){this.sif={};this.sif.canvas={};this.sif.canvas.version=a._version;this.sif.canvas.width=
a._width;this.sif.canvas.height=a._height;var e=a["_view-box"].split(" ");this.sif.canvas.view_box=[parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])];this.sif.canvas.antialias=a._antialias;this.sif.canvas.fps=a._fps;this.sif.canvas.begin_time=sifPlayer._canvasTimeToMillis(a["_begin-time"],this.sif.canvas.fps);this.sif.canvas.end_time=sifPlayer._canvasTimeToMillis(a["_end-time"],this.sif.canvas.fps);e=a._bgcolor.split(" ");this.sif.canvas.bgcolor={};this.sif.canvas.bgcolor.r=Math.round(256*
parseFloat(e[0]));this.sif.canvas.bgcolor.g=Math.round(256*parseFloat(e[1]));this.sif.canvas.bgcolor.b=Math.round(256*parseFloat(e[2]));this.sif.canvas.bgcolor.a=parseFloat(e[3]);this.sif.canvas.name=a.name;this.sif.canvas.defs=this._getDefs(a.defs);this.sif.canvas.pCanvas=sifPlayer.PasteCanvas.makeFake(this);this.sif.canvas.pCanvas.layer=[];this.timeline.duration=this.sif.canvas.end_time;for(e=0;e<a.layer.length;e++)this.sif.canvas.pCanvas.layer.push(sifPlayer._getLayer(this.sif.canvas.pCanvas,a.layer[e]))};
b._getDefs=function(a){var e={};for(name in a)if(a[name].constructor!=Array)"animated"===name?(e[a[name]._id]={},e[a[name]._id].animated=a[name]):(e[a[name]._id]={},e[a[name]._id][name]=a[name],e[a[name]._id]._type=name);else for(var d=0;d<a[name].length;d++)"animated"===name?(e[a[name][d]._id]={},e[a[name][d]._id].animated=a[name][d]):(e[a[name][d]._id]={},e[a[name][d]._id][name]=a[name][d],e[a[name][d]._id]._type=name);return e};b.draw=function(){var a=this.sif.canvas,e=this.tracker=new sifPlayer.Tracker;
e.matrix=[this.width/(a.view_box[2]-a.view_box[0]),0,0,this.height/(a.view_box[3]-a.view_box[1]),this.x+this.width/2,this.y+this.height/2];this.sif.canvas.pCanvas.draw(e)};b.tick=function(a){this.timeline.tick(a);this.sif.canvas.pCanvas.setPosition(this.timeline.position)};b.setPosition=function(a){this.timeline.setPosition(a);this.sif.canvas.pCanvas.setPosition(this.timeline.position)};sifPlayer.SifObject=f})();this.sifPlayer=this.sifPlayer||{};this.sifPlayer.param=this.sifPlayer.param||{};
(function(){var f=sifPlayer.param;f._set=function(b,a,e,d,g){var h;g||alert(JSON.stringify(g)+this.type+"  "+a);g.animated&&(h=g.animated._type);g._type&&(h=g._type);g._use?f._set(b,a,e,d,b.sifobj.sif.canvas.defs[g._use]):g.vector||"vector"===h?f.vector._get(b,a,e,d,g):g.integer||"integer"===h?f._getNumber(b,a,e,d,g,"integer"):g.real||"real"===h?f._getNumber(b,a,e,d,g,"real"):g.angle||"angle"===h?f._getNumber(b,a,e,d,g,"angle"):g.bool||"bool"===h?f.bool._get(b,a,e,d,g):g.time||"time"===h?f._getTime(b,
a,e,d,g):g.color||"color"===h?f._getColor(b,a,e,d,g):g.gradient||"gradient"===h?f._getGradient(b,a,e,d,g):g.composite?f.composite._get(b,a,e,d,g):g.bline_point?(d[a]={},d[a].composite={},g.bline_point.vertex?(f._set(b,"point","vector",d[a].composite,g.bline_point.vertex),f._set(b,"t1","vector",d[a].composite,g.bline_point.t1),d[a].composite.split={},d[a].composite.split.getValue=function(){return!1},f.convert._set(b,d[a].composite,e,"bline_point")):alert("not converted bline point")):g.scale||"scale"===
h?(d[a]={},d[a].scale={},g.scale._link&&(g.scale.link=b.sifobj.sif.canvas.defs[g.scale._link]),g.scale._scalar&&(g.scale.scalar=b.sifobj.sif.canvas.defs[g.scale._scalar]),f._set(b,"link",g.scale._type,d[a].scale,g.scale.link),f._set(b,"scalar","real",d[a].scale,g.scale.scalar),f.convert._set(b,d[a],e,"scale")):g.radial_composite||"radial_composite"===h?f._getRadial_composite(b,a,e,d,g):g.add?(h=g.add._type,d[a]={},d[a].add={},g.add._lhs&&(g.add.lhs=b.sifobj.sif.canvas.defs[g.add._lhs]),g.add._rhs&&
(g.add.rhs=b.sifobj.sif.canvas.defs[g.add._rhs]),g.add._scaler&&(g.add.scaler=b.sifobj.sif.canvas.defs[g.add._scaler]),f._set(b,"lhs",h,d[a].add,g.add.lhs),f._set(b,"rhs",h,d[a].add,g.add.rhs),f._set(b,"scalar","real",d[a].add,g.add.scalar),f.convert._set(b,d[a],e,"add")):g.and?(h=g.and._type,d[a]={},d[a].and={},f._set(b,"link1",h,d[a].and,g.and.link1),f._set(b,"link2",h,d[a].and,g.and.link2),f.convert._set(b,d[a],e,"and")):g.atan2?(h=g.atan2._type,d[a]={},d[a].atan2={},g.atan2._x&&(g.atan2.x=b.sifobj.sif.canvas.defs[g.atan2._x]),
g.atan2._y&&(g.atan2.y=b.sifobj.sif.canvas.defs[g.atan2._y]),f._set(b,"x","real",d[a].atan2,g.atan2.x),f._set(b,"y","real",d[a].atan2,g.atan2.y),f.convert._set(b,d[a],e,"atan2")):g.cos?(h=g.cos._type,d[a]={},d[a].cos={},g.cos._angle&&(g.cos.angle=b.sifobj.sif.canvas.defs[g.cos._angle]),g.cos._amp&&(g.cos.amp=b.sifobj.sif.canvas.defs[g.cos._amp]),f._set(b,"angle","angle",d[a].cos,g.cos.angle),f._set(b,"amp","real",d[a].cos,g.cos.amp),f.convert._set(b,d[a],e,"cos")):g.dotproduct?(h=g.dotproduct._type,
d[a]={},d[a].dotproduct={},g.dotproduct._lhs&&(g.dotproduct.lhs=b.sifobj.sif.canvas.defs[g.dotproduct._lhs]),g.dotproduct._rhs&&(g.dotproduct.rhs=b.sifobj.sif.canvas.defs[g.dotproduct._rhs]),f._set(b,"lhs","vector",d[a].dotproduct,g.dotproduct.lhs),f._set(b,"rhs","vector",d[a].dotproduct,g.dotproduct.rhs),f.convert._set(b,d[a],e,"dotproduct")):g.exp?(h=g.exp._type,d[a]={},d[a].exp={},g.exp._exp&&(g.exp.exp=b.sifobj.sif.canvas.defs[g.exp._exp]),g.exp._scale&&(g.exp.scale=b.sifobj.sif.canvas.defs[g.exp._scale]),
f._set(b,"exp","real",d[a].exp,g.exp.exp),f._set(b,"scale","real",d[a].exp,g.exp.scale),f.convert._set(b,d[a],e,"exp")):g.logarithm?(h=g.logarithm._type,d[a]={},d[a].logarithm={},g.logarithm._link&&(g.logarithm.link=b.sifobj.sif.canvas.defs[g.logarithm._link]),f._set(b,"link","real",d[a].logarithm,g.logarithm.link),f._set(b,"epsilon","real",d[a].logarithm,g.logarithm.epsilon),f._set(b,"infinite","real",d[a].logarithm,g.logarithm.infinite),f.convert._set(b,d[a],e,"logarithm")):g.reciprocal?(h=g.reciprocal._type,
d[a]={},d[a].reciprocal={},g.reciprocal._link&&(g.reciprocal.link=b.sifobj.sif.canvas.defs[g.reciprocal._link]),f._set(b,"link","real",d[a].reciprocal,g.reciprocal.link),f._set(b,"epsilon","real",d[a].reciprocal,g.reciprocal.epsilon),f._set(b,"infinite","real",d[a].reciprocal,g.reciprocal.infinite),f.convert._set(b,d[a],e,"reciprocal")):g.subtract?(h=g.subtract._type,d[a]={},d[a].subtract={},g.subtract._lhs&&(g.subtract.lhs=b.sifobj.sif.canvas.defs[g.subtract._lhs]),g.subtract._rhs&&(g.subtract.rhs=
b.sifobj.sif.canvas.defs[g.subtract._rhs]),g.subtract._scalar&&(g.subtract.scalar=b.sifobj.sif.canvas.defs[g.subtract._scalar]),f._set(b,"lhs",h,d[a].subtract,g.subtract.lhs),f._set(b,"rhs",h,d[a].subtract,g.subtract.rhs),f._set(b,"scalar","real",d[a].subtract,g.subtract.scalar),f.convert._set(b,d[a],e,"subtract")):g.sine?(h=g.sine._type,d[a]={},d[a].sine={},g.sine._angle&&(g.sine.angle=b.sifobj.sif.canvas.defs[g.sine._angle]),g.sine._amp&&(g.sine.amp=b.sifobj.sif.canvas.defs[g.sine._amp]),f._set(b,
"angle","angle",d[a].sine,g.sine.angle),f._set(b,"amp","real",d[a].sine,g.sine.amp),f.convert._set(b,d[a],e,"sine")):g.vectorangle?(h=g.vectorangle._type,d[a]={},d[a].vectorangle={},f._set(b,"vector","vector",d[a].vectorangle,g.vectorangle.vector),f.convert._set(b,d[a],e,"vectorangle")):g.greyed?f._set(b,a,e,d,g.greyed.link):(alert("no param type"),alert(JSON.stringify(g)+" layer type : "+b.type))};f._getNumber=function(b,a,e,d,g,h){var i,j;i={paused:!0,useTick:!0};var k=b.timeline,l,n=sifPlayer._secsToMillis;
d[a]={};if(g.animated){g=g.animated.waypoint;d[a].value=g[0][h]._value;i=createjs.Tween.get(d[a],i);"0s"!==g[0]._time&&(l=sifPlayer._getEase(g[0]._before),j=n(g[0]._time),i.to({value:g[0][h]._value},j,l));for(var m=0;m<g.length-1;m++)l=sifPlayer._getEase(g[m+1]._before),j=n(g[m+1]._time)-n(g[m]._time),i.to({value:g[m+1][h]._value},j,l);k.addTween(i)}else g[h]||alert(JSON.stringify(g)+"param_type : "+h+" param_name : "+a+" layer type : "+this.type),d[a].value=g[h]._value;f.convert._set(b,d[a],e,h)};
f._getTime=function(b,a,e,d,g){var h,i;h={paused:!0,useTick:!0};var j=b.timeline,k,l=sifPlayer._secsToMillis;d[a]={};if(g.animated){g=g.animated.waypoint;d[a].value=l(g[0].time._value);h=createjs.Tween.get(d[a],h);"0s"!==g[0]._time&&(k=sifPlayer._getEase(g[0]._before),i=l(g[0]._time),h.to({value:l(g[0].time._value)},i,k));for(var n=0;n<g.length-1;n++)k=sifPlayer._getEase(g[n+1]._before),i=l(g[n+1]._time)-l(g[n]._time),h.to({value:l(g[n+1].time._value)},i,k);j.addTween(h)}else g.time||alert(JSON.stringify(g)+
"param_type : time param_name : "+a+" layer type : "+this.type),d[a].value=l(g.time._value);f.convert._set(b,d[a],e,"integer")};f._getRadial_composite=function(b,a,e,d,g){param_type="radial_composite";d[a]={};d[a]._type=param_type;d[a].radial_composite={};g[param_type]._radius&&(g[param_type].radius=b.sifobj.sif.canvas.defs[g[param_type]._radius]);g[param_type]._theta&&(g[param_type].theta=b.sifobj.sif.canvas.defs[g[param_type]._theta]);f._set(b,"radius","real",d[a][param_type],g[param_type].radius);
f._set(b,"theta","angle",d[a][param_type],g[param_type].theta);f.convert._set(b,d[a],e,param_type)};f._getColor=function(b,a,e,d,g){e={paused:!0,useTick:!0};b=b.timeline;d[a]={};d[a].animated=!0;if(g.animated){w=g.animated.waypoint;d[a].r=w[0].color.r;d[a].g=w[0].color.g;d[a].b=w[0].color.b;d[a].a=w[0].color.a;tw=createjs.Tween.get(d[a],e);"0s"!==w[0]._time&&tw.to({r:w[0].color.r,g:w[0].color.g,b:w[0].color.b,a:w[0].color.a},sifPlayer._secsToMillis(w[0]._time),sifPlayer._getEase(w[0]._before));for(a=
0;a<w.length-1;a++)tw.to({r:w[a+1].color.r,g:w[a+1].color.g,b:w[a+1].color.b,a:w[a+1].color.a},sifPlayer._secsToMillis(w[a+1]._time)-sifPlayer._secsToMillis(w[a]._time),sifPlayer._getEase(w[a+1]._before));b.addTween(tw)}else d[a].r=g.color.r,d[a].g=g.color.g,d[a].b=g.color.b,d[a].a=g.color.a};f._getGradient=function(b,a,e,d,g,f){f="gradient";e={paused:!0,useTick:!0};b=b.timeline;d[a]={};var i;if(g.animated){w=g.animated.waypoint;d[f]={};d[f].color=[];for(var j=0,k=w[0].gradient.color.length;j<k;j++){d[f].color.push({});
i=d[f].color[j];a=w[0].gradient.color[j];i.pos=a._pos;i.r=a.r;i.g=a.g;i.b=a.b;i.a=a.a;tw=createjs.Tween.get(i,e);"0s"!==w[0]._time&&tw.to({pos:a._pos,r:a.r,g:a.g,b:a.b,a:a.a},sifPlayer._secsToMillis(w[0]._time),sifPlayer._getEase(w[0]._before));g=0;for(i=w.length-1;g<i;g++)a=w[g+1].gradient.color[j],tw.to({pos:a._pos,r:a.r,g:a.g,b:a.b,a:a.a},sifPlayer._secsToMillis(w[g+1]._time)-sifPlayer._secsToMillis(w[g]._time),sifPlayer._getEase(w[g+1]._before));b.addTween(tw)}}else{d[f]={};d[f].color=[];j=0;
for(k=g[f].color.length;j<k;j++)d[f].color.push({}),i=d[f].color[j],a=g[f].color[j],i.pos=a._pos,i.r=a.r,i.g=a.g,i.b=a.b,i.a=a.a}}})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){sifPlayer.param.vector={_get:function(f,b,a,e,d){var g,h;g={paused:!0,useTick:!0};var i=f.timeline;e[b]={};if(d.animated){d=d.animated.waypoint;e[b].x=d[0].vector.x;e[b].y=d[0].vector.y;g=createjs.Tween.get(e[b],g);"0s"!==d[0]._time&&(h=sifPlayer._secsToMillis(d[0]._time),g.to({x:d[0].vector.x,y:d[0].vector.y},h,sifPlayer._getEase(d[0]._before)));for(var j=0;j<d.length-1;j++)h=sifPlayer._secsToMillis(d[j+1]._time)-sifPlayer._secsToMillis(d[j]._time),g.to({x:d[j+1].vector.x,y:d[j+1].vector.y},
h,sifPlayer._getEase(d[j+1]._before));i.addTween(g);sifPlayer.param.convert._set(f,e[b],a,"vector")}else d.vector?(e[b].x=d.vector.x,e[b].y=d.vector.y,sifPlayer.param.convert._set(f,e[b],a,"vector",!1)):alert(JSON.stringify(d)+" in vector")},_setConvert:function(f,b,a,e){f=sifPlayer.param.vector;a===e?(b.getX=f.getX,b.getY=f.getY,b.setVector=f.setVector,b.setX=f.setX,b.setY=f.setY):"radial_composite"===e?(b.getX=f.getRadialX,b.getY=f.getRadialY):"composite"===e?(b.getX=f.getCompositeX,b.getY=f.getCompositeY):
"add"===e?(b.getX=f.getAddX,b.getY=f.getAddY):"scale"===e?b.scale.composite?(b.getX=f.getScaleCompositeX,b.getY=f.getScaleCompositeY):b.scale.radial_composite?(b.getX=f.getScaleRadialX,b.getY=f.getScaleRadialY):(b.getX=f.getScaleX,b.getY=f.getScaleY):"subtract"===e&&(b.getX=f.getSubX,b.getY=f.getSubY)},setVector:function(f,b){this.x=f;this.y=b},setX:function(f){this.x=f},setY:function(f){this.y=f},getX:function(){return this.x},getY:function(){return this.y},getScaleX:function(){return this.scale.link.getX()*
this.scale.scalar.getValue()},getScaleY:function(){return this.scale.link.getY()*this.scale.scalar.getValue()},getScaleCompositeX:function(){return this.scale.composite.x.getValue()*this.scalar.getValue()},getScaleCompositeY:function(){return this.scale.composite.y.getValue()*this.scalar.getValue()},getScaleRadialX:function(){var f=this.scale.radial_composite.theta.getValue()*Math.PI/180,b=this.scale.radial_composite.radius.getValue();return Math.cos(f)*b*this.scalar.getValue()},getScaleRadialY:function(){var f=
this.scale.radial_composite.theta.getValue()*Math.PI/180,b=this.scale.radial_composite.radius.getValue();return Math.sin(f)*b*this.scalar.getValue()},getRadialX:function(){var f=this.radial_composite.theta.getValue()*Math.PI/180,b=this.radial_composite.radius.getValue();return Math.cos(f)*b},getRadialY:function(){var f=this.radial_composite.theta.getValue()*Math.PI/180,b=this.radial_composite.radius.getValue();return Math.sin(f)*b},getCompositeX:function(){return this.composite.x.getValue()},getCompositeY:function(){return this.composite.y.getValue()},
getAddX:function(){return(this.add.lhs.getX()+this.add.rhs.getX())*this.add.scalar.getValue()},getAddY:function(){return(this.add.lhs.getY()+this.add.rhs.getY())*this.add.scalar.getValue()},getSubX:function(){return(this.subtract.lhs.getX()-this.subtract.rhs.getX())*this.subtract.scalar.getValue()},getSubY:function(){return(this.subtract.lhs.getY()-this.subtract.rhs.getY())*this.subtract.scalar.getValue()}}})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){sifPlayer.param.integer={_setConvert:function(f,b,a,e){f=sifPlayer.param.integer;a===e?(b.getValue=f.getValue,b.setValue=f.setValue):f[e]?b.getValue=f[e]:alert("no convert for integer to "+e)},setValue:function(f){this.value=f},getValue:function(){return this.value},add:function(){return(this.add.lhs.getValue()+this.add.rhs.getValue())*this.add.scalar.getValue()},subtract:function(){return(this.subtract.lhs.getValue()-this.subtract.rhs.getValue())*this.subtract.scalar.getValue()},scale:function(){return this.scale.link.getValue()*
this.scale.scalar.getValue()}}})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){var f={degsToRad:0.0174532925,_setConvert:function(b,a,e,d){b=sifPlayer.param.real;e===d?(a.getValue=b.getValue,a.setValue=b.setValue):b[d]?a.getValue=b[d]:alert("no convert for real to "+d)},setValue:function(b){this.value=b},getValue:function(){return this.value},add:function(){return(this.add.lhs.getValue()+this.add.rhs.getValue())*this.add.scalar.getValue()},subtract:function(){return(this.subtract.lhs.getValue()-this.subtract.rhs.getValue())*this.subtract.scalar.getValue()},scale:function(){return this.scale.link.getValue()*
this.scale.scalar.getValue()},cos:function(){return this.cos.amp.getValue()*Math.cos(this.cos.angle.getValue()*f.degsToRad)},sine:function(){return this.sine.amp.getValue()*Math.sin(this.sine.angle.getValue()*f.degsToRad)},dotproduct:function(){var b,a,e,d;b=this.dotproduct.lhs.getX();a=this.dotproduct.lhs.getY();e=this.dotproduct.rhs.getX();d=this.dotproduct.rhs.getY();return b*e+a*d},exp:function(){return Math.exp(this.exp.exp.getValue())*this.exp.scale.getValue()},logarithm:function(){var b=this.logarithm.link.getValue();
return b>=this.logarithm.epsilon.getValue()?Math.log(b):-this.logarithm.infinite.getValue()},reciprocal:function(){var b=this.reciprocal.link.getValue();return b>=this.reciprocal.epsilon.getValue()?1/b:-this.reciprocal.infinite.getValue()}};sifPlayer.param.real=f})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){sifPlayer.param.angle={_setConvert:function(f,b,a,e){f=sifPlayer.param.angle;a===e?(b.getValue=f.getValue,b.setValue=f.setValue):f[e]?b.getValue=f[e]:alert("no convert for angle to "+e)},setValue:function(f){this.value=f},getValue:function(){return this.value},add:function(){return(this.add.lhs.getValue()+this.add.rhs.getValue())*this.add.scalar.getValue()},subtract:function(){return(this.subtract.lhs.getValue()-this.subtract.rhs.getValue())*this.subtract.scalar.getValue()},scale:function(){return this.scale.link.getValue()*
this.scale.scalar.getValue()},atan2:function(){return 180*(Math.atan2(this.atan2.y.getValue(),this.atan2.x.getValue())/Math.PI)},dotproduct:function(){var f,b,a,e;f=this.dotproduct.lhs.getX();b=this.dotproduct.lhs.getY();a=this.dotproduct.rhs.getX();e=this.dotproduct.rhs.getY();return 180*(Math.acos((f*a+b*e)/(Math.sqrt(f*f+b*b)*Math.sqrt(a*a+e*e)))/Math.PI)},vectorangle:function(){return 180*(Math.atan2(this.vectorangle.vector.getY(),this.vectorangle.vector.getX())/Math.PI)}}})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){sifPlayer.param.bool={_get:function(f,b,a,e,d){var g=sifPlayer.param,h,i;h={paused:!0,useTick:!0};var j=f.sifobj.timeline,k,l=0,n=[0,1];e[b]={};if(d.animated){d=d.animated.waypoint;e[b].value=d[0].bool._value;h=createjs.Tween.get(e[b],h);"0s"!==d[0]._time&&(k=sifPlayer.Ease.bool,i=sifPlayer._secsToMillis(d[0]._time),h.to({value:d[0].bool._value},i,k));for(var m=0;m<d.length-1;m++)k=n[1-l]?sifPlayer.Ease.bool:sifPlayer.Ease.constant,l=1-l,i=sifPlayer._secsToMillis(d[m+1]._time)-sifPlayer._secsToMillis(d[m]._time),
d[m].bool._value!==d[m+1].bool._value?h.to({value:d[m+1].bool._value},i,k):h.wait(i);j.addTween(h)}else d.bool||alert(JSON.stringify(d)+"param_type : bool param_name : "+b+" layer type : "+this.type),e[b].value=d.bool._value;g.convert._set(f,e[b],a,"bool")},_setConvert:function(f,b,a,e){f=sifPlayer.param.bool;a===e?(b.getValue=f.getValue,b.setValue=f.setValue):"and"===e&&(b.getValue=f.getAnd)},setValue:function(f){this.value=f},getValue:function(){return this.value},getAnd:function(){return this.link1&&
this.link2}}})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){var f={_get:function(b,a,e,d,g){var f=sifPlayer.param,i=f._set,j="composite";d[a]={};d[a]._type=j;d[a].composite={};if("vector"===g.composite._type)g[j]._x&&(g[j].x=b.sifobj.sif.canvas.defs[g[j]._x]),g[j]._y&&(g[j].y=b.sifobj.sif.canvas.defs[g[j]._y]),i(b,"x","real",d[a].composite,g.composite.x),i(b,"y","real",d[a].composite,g.composite.y),f.convert._set(b,d[a],e,j);else if("bline_point"===g.composite._type){var k=d[a].composite,j=g.composite._type;g.composite._point&&(g.composite.point=
b.sifobj.sif.canvas.defs[g.composite._point]);i(b,"point","vector",k,g.composite.point);i(b,"width","real",k,g.composite.width);i(b,"origin","real",k,g.composite.origin);i(b,"split","bool",k,g.composite.split);i(b,"t1","vector",k,g.composite.t1);i(b,"t2","vector",k,g.composite.t2);f.convert._set(b,d[a].composite,e,j,g.composite.point.animated||g.composite.width.animated||g.composite.origin.animated||g.composite.t1.animated||g.composite.t2.animated)}},_setConvert:function(b,a,e,d){"bline_point"===
d?(a.getPoint=f.getPoint,a.getT1=f.bline_point_getT1,a.getT2=f.bline_point_getT2):alert("new type of point")},getPoint:function(){return this.point},bline_point_getPoint:function(){return this.point},bline_point_getT1:function(){return{x:this.t1.getX()/3,y:this.t1.getY()/3}},bline_point_getT2:function(){return{x:this.t2.getX()/3,y:this.t2.getY()/3}}};sifPlayer.param.composite=f})();this.sifPlayer.param=this.sifPlayer.param||{};this.sifPlayer.param.convert=this.sifPlayer.param.convert||{};(function(){sifPlayer.param.convert._set=function(f,b,a,e){"vector"===a?sifPlayer.param[a]._setConvert(f,b,a,e):"real"===a?sifPlayer.param[a]._setConvert(f,b,a,e):"integer"===a?sifPlayer.param[a]._setConvert(f,b,a,e):"angle"===a?sifPlayer.param[a]._setConvert(f,b,a,e):"bool"===a?sifPlayer.param[a]._setConvert(f,b,a,e):"composite"===a&&sifPlayer.param[a]._setConvert(f,b,a,e)}})();(function(){function f(){}var b=f.prototype;b.parent=null;b.sifobj=null;b.type=null;b.initLayer=function(a,e){var d=sifPlayer.param._set;f.setParent(this,a);this.type=e._type;e._desc&&(this.desc=e._desc,this.sifobj.desc[this.desc]=this);e.z_depth&&d(this,"z_depth","real",this,e.z_depth);this.active=!1===e._active?!1:!0;this.timeline=new createjs.Timeline;this.timeline.setPaused(!0);this.tracker=new sifPlayer.Tracker};f.setParent=function(a,e){e.hasOwnProperty("sifPath")?a.sifobj=e:(a.parent=e,a.sifobj=
e.sifobj)};b.draw=function(){};b.setPosition=function(a){this.timeline.setPosition(a);return a};b._getBlend=function(){switch(this.blend_method.getValue()){case 0:return"source-over";case 1:return"copy";case 13:return"source-atop";case 21:return"source-in";case 12:return"destination-over";case 19:return"destination-out";case 14:return"destination-in";default:return"source-over"}};sifPlayer.Layer=f})();(function(){function f(a,e){this.init(a,e)}var b=f.prototype=new sifPlayer.Layer;b.init=function(a,e){var d=sifPlayer.param._set;this.initLayer(a,e);d(this,"blend_method","integer",this,e.blend_method);d(this,"amount","real",this,e.amount);d(this,"origin","vector",this,e.origin);d(this,"color","color",this,e.color);this._getBline(e.bline)};b.draw=function(a){var e,d,g=a.ctx;g.fillStyle="rgba("+Math.round(256*this.color.r)+", "+Math.round(256*this.color.g)+", "+Math.round(256*this.color.b)+", "+this.color.a+
")";g.globalAlpha=this.amount.getValue();a.save();a.translate(this.origin.getX(),this.origin.getY());g.globalCompositeOperation=this._getBlend();g.beginPath();e=this.bline.entry[0].composite.getPoint();g.moveTo(e.getX(),e.getY());for(var b=0;b<this.bline.entry.length-1;b++)e=this.bline.entry[b].composite,d=this.bline.entry[b+1].composite,e.split.getValue()?this._bezierPart(g,e.getPoint(),d.getPoint(),e.getT2(),d.getT1()):this._bezierPart(g,e.getPoint(),d.getPoint(),e.getT1(),d.getT1());this.bline.loop&&
(e=this.bline.entry[this.bline.entry.length-1].composite,d=this.bline.entry[0].composite,e.split.getValue()?this._bezierPart(g,e.getPoint(),d.getPoint(),e.getT2(),d.getT1()):this._bezierPart(g,e.getPoint(),d.getPoint(),e.getT1(),d.getT1()));g.closePath();g.fill();a.restore()};b._getBline=function(a){var e=sifPlayer.param._set;this.bline={};this.bline.entry=[];this.bline.loop=a.bline._loop;for(var d=0,g=a.bline.entry.length;d<g;d++){var b={};e(this,"composite","composite",b,a.bline.entry[d]);this.bline.entry.push(b.composite)}};
b._bezierPart=function(a,e,d,g,b){var f;f=g.x+e.getX();e=g.y+e.getY();g=-b.x+d.getX();b=-b.y+d.getY();a.bezierCurveTo(f,e,g,b,d.getX(),d.getY())};sifPlayer.region=f})();(function(){function f(a,e){this.init(a,e)}var b=f.prototype=new sifPlayer.Layer;b.init=function(a,e){var d=sifPlayer.param._set;this.initLayer(a,e);d(this,"blend_method","integer",this,e.blend_method);d(this,"amount","real",this,e.amount);d(this,"width","real",this,e.width);d(this,"origin","vector",this,e.origin);d(this,"color","color",this,e.color);this._getBline(e.bline)};b.draw=function(a){var e=a.ctx,d,b;a.save();e.strokeStyle="rgba("+Math.round(256*this.color.r)+", "+Math.round(256*this.color.g)+
", "+Math.round(256*this.color.b)+", "+this.color.a+")";e.globalAlpha=this.amount.getValue();a.translate(this.origin.getX(),this.origin.getY());e.globalCompositeOperation=this._getBlend();e.beginPath();d=this.bline.entry[0].composite.getPoint();e.moveTo(d.getX(),d.getY());for(var f=0;f<this.bline.entry.length-1;f++)d=this.bline.entry[f].composite,b=this.bline.entry[f+1].composite,d.split.getValue()?this._bezierPart(e,d.getPoint(),b.getPoint(),d.getT2(),b.getT1()):this._bezierPart(e,d.getPoint(),b.getPoint(),
d.getT1(),b.getT1());this.bline.loop&&(d=this.bline.entry[this.bline.entry.length-1].composite,b=this.bline.entry[0].composite,d.split.getValue()?this._bezierPart(e,d.getPoint(),b.getPoint(),d.getT2(),b.getT1()):this._bezierPart(e,d.getPoint(),b.getPoint(),d.getT1(),b.getT1()));e.lineWidth=this.width.getValue();e.stroke();a.restore()};b._getBline=function(a){var e=sifPlayer.param._set;this.bline={};this.bline.entry=[];this.bline.loop=a.bline._loop;for(var d=0,b=a.bline.entry.length;d<b;d++){var f=
{};e(this,"composite","composite",f,a.bline.entry[d]);this.bline.entry.push(f.composite)}};b._bezierPart=function(a,e,d,b,f){var i;i=b.x+e.getX();e=b.y+e.getY();b=-f.x+d.getX();f=-f.y+d.getY();a.bezierCurveTo(i,e,b,f,d.getX(),d.getY())};sifPlayer.outline=f})();(function(){function f(a,e){this.init(a,e)}var b=f.prototype=new sifPlayer.Layer;b.init=function(a,e){var d=sifPlayer.param._set;this.initLayer(a,e);d(this,"amount","real",this,e.amount);d(this,"origin","vector",this,e.origin);d(this,"radius","real",this,e.radius);d(this,"blend_method","integer",this,e.blend_method);d(this,"color","color",this,e.color)};b.draw=function(a){var e=this.origin,a=a.ctx;a.fillStyle="rgba("+Math.round(256*this.color.r)+", "+Math.round(256*this.color.g)+", "+Math.round(256*
this.color.b)+", "+this.color.a+")";a.globalAlpha=this.amount.getValue();a.globalCompositeOperation=this._getBlend();a.beginPath();a.arc(e.getX(),e.getY(),this.radius.getValue(),0,2*Math.PI,!1);a.closePath();a.fill()};sifPlayer.circle=f})();(function(){function f(a,e){this.init(a,e)}var b=f.prototype=new sifPlayer.Layer;b.init=function(a,e){var d=sifPlayer.param._set;this.initLayer(a,e);d(this,"amount","real",this,e.amount);d(this,"blend_method","integer",this,e.blend_method);d(this,"tl","vector",this,e.tl);d(this,"br","vector",this,e.br);this.image=new Image;this.image.src=this.sifobj.sifPath+e.filename.string};b.draw=function(a){var e=a.ctx;a.save();e.globalAlpha=this.amount.getValue();e.globalCompositeOperation=this._getBlend();this._drawImage(e);
a.restore()};b._drawImage=function(a){var e=this.br.getX()-this.tl.getX(),d=this.tl.getY()-this.br.getY(),b,f;0>=e?(b=-1,e*=-1):b=1;0>=d?(f=1,d*=-1):f=-1;a.translate(this.tl.getX(),this.tl.getY());a.scale(b,f);a.drawImage(this.image,0,0,e,d)};sifPlayer.Import=f})();(function(){function f(a,e){this.init(a,e)}var b=f.prototype=new sifPlayer.Layer;b.init=function(a,e){var d=sifPlayer.param._set;this.initLayer(a,e);d(this,"amount","real",this,e.amount);d(this,"blend_method","integer",this,e.blend_method);d(this,"p1","vector",this,e.p1);d(this,"p2","vector",this,e.p2);d(this,"gradient","gradient",this,e.gradient)};b.draw=function(a){for(var a=a.ctx,e=a.createLinearGradient(this.p1.getX(),this.p1.getY(),this.p2.getX(),this.p2.getY()),d=this.gradient.color,b=0,f=d.length;b<
f;b++)e.addColorStop(d[b].pos,"rgba("+Math.round(256*d[b].r)+", "+Math.round(256*d[b].g)+", "+Math.round(256*d[b].b)+", "+d[b].a+")");a.globalAlpha=this.amount.getValue();a.globalCompositeOperation=this._getBlend();a.fillStyle=e;a.fillRect(-1E3,-1E3,2E3,2E3)};sifPlayer.linear_gradient=f})();(function(){function f(a,e){this.init(a,e)}var b=f.prototype=new sifPlayer.Layer;b.init=function(a,e){var d=sifPlayer.param._set;this.initLayer(a,e);d(this,"amount","real",this,e.amount);d(this,"blend_method","integer",this,e.blend_method);d(this,"origin","vector",this,e.origin);d(this,"zoom","real",this,e.zoom);d(this,"focus","vector",this,e.focus);this._getLayers(e.canvas.canvas.layer);this.dCanvas=document.createElement("canvas");this.tracker=new sifPlayer.Tracker(this.dCanvas.getContext("2d"))};
b._getLayers=function(a){this.layer=[];if(a)for(var e=0;e<a.length;e++)this.layer.push(sifPlayer._getLayer(this,a[e]))};b.draw=function(a){var e=Math.exp(this.zoom.getValue()),d=this.layer,b=this.focus,f=this.origin;this.dCanvas.height=0;this.dCanvas.height=this.sifobj.height;this.dCanvas.width=this.sifobj.width;this.tracker.setMatrix(a.matrix);this.tracker.translate(b.getX(),b.getY());this.tracker.scale(e,e);this.tracker.translate(-b.getX(),-b.getY());this.tracker.translate(f.getX()/e,f.getY()/e);
e=0;for(b=d.length;e<b;e++)d[e].active&&d[e].draw(this.tracker);a.ctx&&(a.save(),a.setMatrix([1,0,0,1,0,0]),a.ctx.globalAlpha=this.amount.getValue(),a.ctx.globalCompositeOperation=this._getBlend(),a.ctx.drawImage(this.tracker.ctx.canvas,0,0),a.restore())};b.setPosition=function(a){var e=this.layer;this.timeline.setPosition(a);for(var b=0,f=e.length;b<f;b++)a=e[b].setPosition(a);return a};f.makeFake=function(a){var e={_type:"PasteCanvas",_active:!0,_version:0.1,z_depth:{_name:"z_depth",real:{_value:0}},
amount:{_name:"amount",real:{_value:1}},blend_method:{_name:"blend_method",integer:{_value:0}},origin:{_name:"origin",vector:{x:0,y:0}},canvas:{_name:"canvas",canvas:{}},zoom:{_name:"zoom",real:{_value:0}},time_offset:{_name:"time_offset",time:{_value:"0s"}},children_lock:{_name:"children_lock",bool:{_value:!1,_static:!0}},focus:{_name:"focus",vector:{x:0,y:0}},outline_grow:{_name:"outline_grow",real:{_value:0}}};return new sifPlayer[e._type](a,e)};sifPlayer.PasteCanvas=f})();(function(){function f(a,e){this.init(a,e)}var b=f.prototype=new sifPlayer.Layer;b.init=function(a,e){var b=sifPlayer.param._set;this.initLayer(a,e);b(this,"amount","real",this,e.amount);b(this,"blend_method","integer",this,e.blend_method);b(this,"center","vector",this,e.center);b(this,"radius","real",this,e.radius);b(this,"gradient","gradient",this,e.gradient)};b.draw=function(a){for(var a=a.ctx,e=this.center.getX(),b=this.center.getY(),e=a.createRadialGradient(e,b,0,e,b,this.radius.getValue()),
b=this.gradient.color,f=0,h=b.length;f<h;f++)e.addColorStop(b[f].pos,"rgba("+Math.round(256*b[f].r)+", "+Math.round(256*b[f].g)+", "+Math.round(256*b[f].b)+", "+b[f].a+")");a.globalAlpha=this.amount.getValue();a.globalCompositeOperation=this._getBlend();a.fillStyle=e;a.fillRect(-1E3,-1E3,2E3,2E3)};sifPlayer.radial_gradient=f})();(function(){function f(a,b){this.init(a,b)}var b=f.prototype=new sifPlayer.Layer;b.init=function(a,b){this.initLayer(a,b)};b.draw=function(a){a.restore()};sifPlayer.restore=f})();(function(){function f(a,b){this.init(a,b)}var b=f.prototype=new sifPlayer.Layer;b.init=function(a,b){var d=sifPlayer.param._set;this.initLayer(a,b);d(this,"origin","vector",this,b.origin);d(this,"amount","angle",this,b.amount)};b.draw=function(a){a.save();a.translate(this.origin.getX(),this.origin.getY());a.rotate(this.amount.getValue()*Math.PI/180);a.translate(-this.origin.getX(),-this.origin.getY())};sifPlayer.rotate=f})();(function(){function f(a,b){this.init(a,b)}var b=f.prototype=new sifPlayer.Layer;b.init=function(a,b){var d=sifPlayer.param._set;this.initLayer(a,b);d(this,"amount","vector",this,b.amount);d(this,"center","vector",this,b.center)};b.draw=function(a){var b=this.center,d=this.amount;a.save();a.translate(b.getX(),b.getY());a.scale(d.getX(),d.getY());a.translate(-b.getX(),-b.getY())};sifPlayer.stretch=f})();(function(){function f(a,b){this.init(a,b)}var b=f.prototype=new sifPlayer.Layer;b.init=function(a,b){var d=sifPlayer.param._set;this.initLayer(a,b);d(this,"origin","vector",this,b.origin)};b.draw=function(a){var b=this.origin;a.save();a.translate(b.getX(),b.getY())};sifPlayer.translate=f})();(function(){function f(a,b){this.init(a,b)}var b=f.prototype=new sifPlayer.Layer;b.init=function(a,b){var d=sifPlayer.param._set;this.initLayer(a,b);d(this,"center","vector",this,b.center);d(this,"amount","real",this,b.amount)};b.draw=function(a){var b=Math.exp(this.amount.getValue()),d=this.center;a.save();a.translate(d.getX(),d.getY());a.scale(b,b);a.translate(-d.getX()/b,-d.getY()/b)};sifPlayer.zoom=f})();(function(){function f(a,b){this.init(a,b)}var b=f.prototype=new sifPlayer.Layer;b.init=function(a,b){var d=sifPlayer.param._set;this.initLayer(a,b);d(this,"link_time","integer",this,b.link_time);d(this,"local_time","integer",this,b.local_time);d(this,"duration","integer",this,b.duration);this.timeline.duration=this.sifobj.sif.canvas.end_time-this.sifobj.sif.canvas.begin_time;this.timeline.loop=!0};b.setPosition=function(a){this.timeline.tick(a-this.timeline.position);var b=this.duration.getValue(),
d=this.link_time.getValue(),f=this.local_time.getValue(),a=(a+f)%b;return 0!=b?0<b?a+d:d-a:d};sifPlayer.timeloop=f})();(function(){sifPlayer.helper={loadXML:function(f){var b=new XMLHttpRequest;b.open("GET",f,!1);b.send();return b.responseXML},StringtoXML:function(f){return(new DOMParser).parseFromString(f,"text/xml")},setCanvasToWindowSize:function(f,b,a){b/=a;a=window.innerWidth/window.innerHeight;1<=b?b>=a?(f.width=window.innerWidth,f.height=f.width/b):(f.height=window.innerHeight,f.width=window.innerHeight*b):b<=a?(f.height=window.innerHeight,f.width=f.height*b):(f.width=window.innerWidth,f.height=f.width/b)}}})();(function(){sifPlayer.img={getCanvasArray:function(f){var b=f.sifobj,f=f.fps,a=1E3/f,e=0,d=Math.round(b.sif.canvas.end_time/1E3*f),g=[];g.sifReady=0;(function(){var f=document.createElement("canvas");f.height=b.height;f.width=b.width;var i=f.getContext("2d");b.setPosition(a*e);b.draw();i.drawImage(b.dCanvas,0,0);g[e]=f;e+=1;e<=d&&(g.sifReady=e/d,setTimeout(arguments.callee,0))})();return g},playSif:function(f,b,a){var e=new XMLHttpRequest;e.open("GET",f,!1);e.send();var f=e.responseXML,d=document.getElementById(b),
g=d.getContext("2d"),h=new sifPlayer.SifObject(f,{sifPath:"assets/"});h.width=d.width;h.height=d.height;var b=Math.round(h.sif.canvas.end_time/a),i=sifPlayer.img.getCanvasArray({sifobj:h,fps:a,start_frame:0,end_frame:b}),j=0;setInterval(function(){d.height=0;d.height=h.height;d.width=h.width;1>i.sifReady?(g.globalAlpha=i.sifReady,g.drawImage(i[0],0,0),g.font="30px Arial",g.globalAlpha=1,g.fillStyle="rgb(255, 255, 255)",g.strokeStyle="rgb(0, 0, 0)",g.textAlign="center",g.fillText("Rendering..",d.width/
2,d.height/2),g.fillText(Math.round(100*i.sifReady)+"%",d.width/2,d.height/2+30),j=0):g.drawImage(i[j],0,0);j=j<i.length-1?j+1:0},1E3/a)}}})();
